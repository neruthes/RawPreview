<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Notes</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="/joyneop.ico">
	<link rel="apple-touch-icon" href="/joyneop.png">
	<style type="text/css">
	@import url(/fonts/seravek.css);
	@import url(/fonts/erato.css);
	* {
		text-rendering: optimizeLegibility;
	}
	body {
		font-family: -apple-system, 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Open Sans', 'Ubuntu', 'Arial', sans-serif, 'PingFang SC', '.PingFang SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Hiragino Sans GB', 'YuGothic', 'Heiti SC';
		font-weight: 200;
		font-size: 18px;
		color: #000;
		line-height: 30px;
		background: #FFF;
		min-height: 100vh;
		padding: 0;
		margin: 0;
	}
	#cont {
		box-sizing: border-box;
		margin: 0 auto;
		overflow: auto;
	}
	@media screen and (max-width: 768px) {
		#cont {
			padding: 20px 10px 20px;
		}
	}
	@media screen and (min-width: 769px) {
		#cont {
			max-width: 800px;
			padding: 40px 60px;
		}
	}
	#filepath {
		font-family: 'Menlo', monospace;
		font-size: 16px;
		font-weight: 500;
		color: #AAA;
		margin: 0 0 15px;
	}
	#filepath a {
		color: inherit;
		text-decoration: none;
	}
	#text {
		min-height: 80vh;
	}
	#text {
		font-weight: 300;
		font-size: 20px;
		color: #555556;
		line-height: 30px;
		background: none;
		width: 100%;
		padding: 0;
		margin: 0;
		box-sizing: border-box;
		border: none;
		outline: none;
		overflow: auto;
		resize: none;
	}
	#text * {
		margin: 1em 0;
	}
	footer {
		font-size: 16px;
		color: #AAA;
	}
	footer a {
		color: inherit;
	}
	</style>
	<script type="text/javascript">
	</script>
</head>
<body>
	<div id="cont">
		<div id="filepath">
		</div>
		<div id="text">
		</div>
		<footer>
			<div class="">
				&copy; Neruthes 2019<script>document.write((function (d) { return d.getFullYear() == '2019' ? '' : '-' + d.getFullYear()})(new Date()))</script> RawPreview service software.
			</div>
			<div class="">
				<a href="https://github.com/neruthes/RawPreview">Source code</a> is published under <a target="_blank" href="https://www.gnu.org/licenses/agpl-3.0.html">GNU AGPL v3</a>.
			</div>
		</footer>
		<script type="text/javascript">
		var markdownRender = function (text) {
			text.split('\n\n').map(function (line) {
				if (line.indexOf('# ') === 0) {
					return `<h1>${line.replace('# ')}</h1>`;
				} else if (line.indexOf('## ') === 0) {
					return `<h2>${line.replace('## ')}</h2>`;
				} else if (line.indexOf('### ') === 0) {
					return `<h3>${line.replace('### ')}</h3>`;
				} else if (line.indexOf('#### ') === 0) {
					return `<h4>${line.replace('#### ')}</h4>`;
				} else if (line.indexOf('> ') === 0) {
					return `<blockquote><p>${line.replace('> ')}</p></blockquote>`;
				} else {
					return `<p>${x}</p>`;
				}
			}).join('');
		};
		</script>
		<script type="text/javascript">
		var filePath = location.pathname.replace(/^.+?fbd30a70\//, '');
		var blobMasterPath = filePath.replace('/', '{X}').replace('/', '/blob/master/').replace('{X}', '/');
		document.querySelector('#filepath').innerHTML = `File: <a id="anchor-filepath" target="_blank" href="https://github.com/${blobMasterPath}">${filePath}</a>`;
		(function () {
            var xhr = new XMLHttpRequest();
            xhr.open('get', `https://cdn.jsdelivr.net/gh/${filePath}`);
            xhr.onload = function (e) {
                document.querySelector('#text').innerHTML = markdownRender(e.target.responseText);
            };
            xhr.send();
        })();
		</script>
	</div>
</body>
</html>
